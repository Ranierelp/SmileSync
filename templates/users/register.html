{% extends 'base.html' %}
{% load static %}

{% block content %}
<body>
    <div class="container-fluid">
        <div class="row min-vh-100">
            <div class="col-lg-8 col-xxl-6 py-3 position-relative">
                <div class="card overflow-hidden z-1 shadow mb-5 bg-body-tertiary rounded">
                    <div class="card-body p-0">
                        <div class="row g-0 h-100">
                            <!-- Coluna com imagem e descrição -->
                            <div class="col-md-6 text-center bg-card-gradient left-column">
                                <div class="position-relative p-4 pt-1 pb-5" data-bs-theme="light">
                                    <div class="z-1 position-relative">
                                        <img src="{% static 'img/SmileSync_name_logo.svg ' %}" alt="Logo" class="img-fluid">                   
                                        <p class="description text-white">Simplificando consultórios e potencializando sorrisos. O seu parceiro digital para um consultório mais eficiente e sorrisos mais saudáveis</p>
                                    </div>
                                </div>
                                <div class="mt-3" style="height: 150px;"></div> 
                                <div class="mt-3 mb-5 mt-md-4 mb-md-5" data-bs-theme="light">
                                    <p class="text-white">Já tem uma conta?<br>
                                        <a class="text-decoration-underline link-light text-white" href="/user/login">Login</a>
                                    </p>
                                </div>
                            </div>
                            <!-- Coluna com formulário de registro -->
                            <div class="col-md-6 d-flex flex-center">
                                <div class="p-4 p-md-5 flex-grow-1">
                                    <h3>Register</h3>
                                    <form  method="post" action="{% url "clinic_register" %}">
                                        {% csrf_token %}
                                        <div class="form-floating mb-3">
                                            {{ form.name_clinic }}
                                            <label for="{{ form.name_clinic.id_for_label }}">Nome da Clínica</label>
                                        </div>
                                        <div class="form-floating mb-3">
                                            {{ form.cnpj }}
                                            <label for="{{ form.cnpj.id_for_label }}">CNPJ</label>
                                        </div>
                                        <div class="form-floating mb-3">
                                            {{ form.email }}
                                            <label for="{{ form.email.id_for_label }}">Email</label>
                                        </div>
                                        <div class="form-floating mb-3">
                                            {{ form.phone }}
                                            <label for="{{ form.phone.id_for_label }}">Telefone</label>
                                        </div>
                                        <div class="row gx-2">
                                            <div class="form-floating mb-3 col-sm-6">
                                              {{form.password}}
                                              <label for="{{ form.password.id_for_label }}">Senha</label>
                                            </div>
                                            <div class="form-floating mb-3 col-sm-6">
                                                {{form.confirm_password}}
                                                <label for="{{ form.confirm_password.id_for_label }}">Confirmar Senha</label>
                                            </div>
                                        </div>
                                        <div class="form-check mb-3">
                                            <input class="form-check-input" type="checkbox" id="register-checkbox" required>
                                            <label class="form-check-label" for="register-checkbox">Eu aceito o <a href="#!">termo de uso</a> e <a href="#!">política de Privacidade</a></label>
                                        </div>
                                        <div class="mb-3">
                                            <button class="btn btn-primary d-block w-100 mt-3" type="submit" name="submit">Registrar</button>
                                        </div>
                                    </form>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</body>
{% if success %}
<script>
    Swal.fire({
        title: 'Sucesso!',
        text: 'Usuário cadastrado com sucesso!',
        icon: 'success',
        confirmButtonText: 'OK'
    });
</script>
{% endif %}

<script>
    {% if form.errors %}
      {% for field, errors in form.errors.items %}
        {% for error in errors %}
          Swal.fire({
            icon: 'error',
            title: 'Oops...',
            text: '{{ error }}',
          });
        {% endfor %}
      {% endfor %}
    {% endif %}
  </script>

{% endblock content %}
</html>



